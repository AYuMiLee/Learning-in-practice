https://github.com/Romantic-Lei/Learning-in-practice

# 线程池抛出异常怎么办

往线程池提交请求，处理方法的三种请求形式，导致对异常处理也不一样

![](images/1.线程池异常的三种处理形式.jpg)



###  threadPool.submit(() -> {}) 会将异常信息吞掉

```yaml
    private static void defaultSubmit() {
        ExecutorService threadPool = Executors.newFixedThreadPool(2);

        try {
            // 1 默认调用，submit会吞掉异常
            threadPool.submit(() -> {
                System.out.println(Thread.currentThread().getName() + "\t进入池中submit方法");
                for (int i = 1; i <= 4; i++) {
                    if (i == 3) {
                        int age = 10/0;
                    }
                    System.out.println("---come in execute: " + i);
                }
                System.out.println(Thread.currentThread().getName() + "\t进入池中submit方法---end");
            });
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            threadPool.shutdown();
        }
    }
    
Connected to the target VM, address: '127.0.0.1:50840', transport: 'socket'
pool-1-thread-1	进入池中submit方法
---come in execute: 1
---come in execute: 2
Disconnected from the target VM, address: '127.0.0.1:50840', transport: 'socket'

Process finished with exit code 0

```

